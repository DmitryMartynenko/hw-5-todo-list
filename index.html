<!DOCTYPE html>
<html lang="en">



<head>
    <meta charset="utf-8">

    <link href=main.css rel=stylesheet>
</head>

<body>
    <div class="container">
        <div class="header">
            <div id="date" class="date">Starting...</div>
        </div>
        <div class="add-to-do">
            <input type="text" id="input">
            <input type="date" id="setDate">
        </div>


        <div class="content">

            <div>
                <p>NEW</p>
                <ul id="list">
                
            </div>

            </ul>
            <div>
                <p>FINISHED</p>
                <ul id="finished">

                </ul>
            </div>
        </div>
    </div>
    <script>

        var input = document.getElementById('input');
        input.value = 'Put Your task right here';
        var list = document.getElementById('list');
        var finished = document.getElementById('finished')
       
        input.addEventListener('click', clearInput);
        function clearInput(event) {
            input.value = '';
        }
       
        var date = document.getElementById('setDate')


        input.addEventListener('keypress', addNewTask);

        function addNewTask(event) {
            if (event.keyCode == 13 && input.value !== '') {
                var item = document.createElement('li');
                item.classList.add('item');

                var checkbox = document.createElement('input');
                checkbox.type = 'checkbox';
                item.appendChild(checkbox); 

                var deadline = document.createElement('span')
                
                deadline.innerHTML = date.value
                deadline.style.color = 'blue';
                item.appendChild(deadline)
                if (date.value === '' ) {
                deadline.innerText = 'set deadline'
            }

             deadline.addEventListener('click', addDeadline); 
           
                 function addDeadline() {
                     
                    if (deadline.innerText == 'set deadline' && date.value == 0){
                         alert('Set the deadline Date')
                         deadline.innerText = ' tap here to set'
                         deadline.style.color = 'crimson';
                     } else {
                     deadline.innerHTML = date.value
                     date.value = 0;
                     
                    }
                    
                   
             }

                var textWrapper = document.createElement('span');
                item.appendChild(textWrapper); 
                textWrapper.innerHTML = input.value; 
                

                checkbox.addEventListener('click', lineTrough)
                function lineTrough() {
                    if (checkbox.checked) {
                        textWrapper.style.textDecoration = 'line-through';
                        deadline.style.textDecoration = 'line-through';
                        finished.appendChild(item)
                       
                    } else {
                        textWrapper.style.textDecoration = 'none';
                        deadline.style.textDecoration = 'none';
                        list.appendChild(item);

                    }



                };

                var clearButton = document.createElement('i');
                clearButton.classList.add('clearbutton');
                clearButton.innerHTML = 'x';
                clearButton.style.color = 'red';
                item.appendChild(clearButton); 

                clearButton.addEventListener('click', clearFunc)
                function clearFunc() {
                    this.parentNode.parentNode.removeChild(this.parentNode)
                };

                list.appendChild(item); 
                input.value = ''; 
                date.value = ''; 

            }
    </script>
    <script src="js.js"></script>
</body>

</html>